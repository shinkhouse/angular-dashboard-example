<div class="sidenavigation" [class.closed]="isClosed">
    <div class="logo-container">
        <div class="logo">
            <mat-icon>diamond</mat-icon>
        </div>
        <h2 *ngIf="!isClosed" class="application-name">GemstoneIQ</h2>
    </div>
    <button class="toggle menu-button" (click)="toggleDrawerExpansion()">
      <mat-icon [class.rotate-180]="!isClosed">chevron_right</mat-icon>
    </button>
    <div class="navigation-group" *ngFor="
        let item of navItems;
        let i = index;
        let last = last;
        let first = first
      " [class.expanded]="item.expanded">
      <app-sidenav-item [color]="color" [item]="item" [isParent]="true" [drawerOpen]="!isClosed" (toggle)="toggleItemExpansion(item)"
        [isFirstChild]="first" [hasChildren]="(item?.children && item?.children!.length > 0) ?? false"
        [children]="item.children ?? []">
      </app-sidenav-item>
      <div class="child-group" [@expandCollapseHeightState]="item.expanded ? 'expand' : 'collapse'">
        <app-sidenav-item [color]="color" *ngFor="let child of item.children; let last = last; let first = first" [item]="child" [parentItem]="item"
          [drawerOpen]="!isClosed" [isChild]="true" [isFirstChild]="first" [isLastChild]="last"
          (toggle)="toggleItemExpansion(child)">
        </app-sidenav-item>
      </div>
    </div>
  </div>